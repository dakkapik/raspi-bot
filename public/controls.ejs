<head>
    <link rel="stylesheet" href="controls.css">
</head>
<body>
    <input class="submit" id="submit">
    <button class="submit-button" id="submit-button">SUBMIT</button>
    <button id="say-hello">Say Hello</button>
    <div class="controls">
        <button id="up">UP</button>
        <div id="middle">
            <button id="left">LEFT</button>
            <button id="right">RIGHT</button>
        </div>
        <button id="down">DOWN</button>
    </div>
</body>


<script>
    const connectionInput = document.getElementById("submit")
    const submitButton = document.getElementById("submit-button")

    const upButton = document.getElementById("up")
    const downButton = document.getElementById("down")
    const rightButton = document.getElementById("right")
    const leftButton = document.getElementById("left")
    const sayHelloButton = document.getElementById("say-hello")

    const http = "http://"
    let connectionIP = "localhost"
    const port = 3000

    upButton.addEventListener("click", emitDirection)
    downButton.addEventListener("click", emitDirection)
    rightButton.addEventListener("click", emitDirection)
    leftButton.addEventListener("click", emitDirection)
    submitButton.addEventListener("click", setConnection)
    sayHelloButton.addEventListener("click", emitHello)

    function emitDirection (e){
        const direction = e.path[0].id
        fetch(http + connectionIP + ":" + port + "/" + direction)
    }

    function emitHello (e) {
        fetch(http + connectionIP + ":" + port + "/" + "hello")
    }

    function setConnection (e){
        connectionIP = connectionInput.value
    }

</script>