<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>turret mock</title>
</head>
<body>
    <h1 id="x-axis-t"></h1>
    <h1 id="y-axis-t"></h1>
    <h1 id="x-axis-g"></h1>
    <h1 id="y-axis-g"></h1>
    <h1 id="x-tresshold"></h1>
    <h1 id="y-tresshold"></h1>
</body>
<script src="/socket.io/socket.io.js"></script>
<script>
    const domain = (new URL(window.location.href));
    const socket = io(domain.origin);
    
    socket.on("connect", () => socket.emit("purpose", "turret-mock"))
</script>
<script>
    const turretX = document.getElementById("x-axis-t")
    const turretY = document.getElementById("y-axis-t")
    const gyroX = document.getElementById("x-axis-g")
    const gyroY = document.getElementById("y-axis-g")
    const tressholdX = document.getElementById("x-tresshold")
    const tressholdY = document.getElementById("y-tresshold")

    socket.on("turret-pos", (pos) => {
        console.log(pos)
        turretX.innerHTML = "turret X: " + pos.x
        turretY.innerHTML = "turret Y: " + pos.y
    })
    socket.on("meta-data", (gyroPos, tresshold) => {
        console.log("giro-pos")
        gyroX.innerHTML = "gyro X: " + gyroPos.x
        gyroY.innerHTML = "gyro Y: " + gyroPos.y
        tressholdX.innerHTML = "tresshold X: " + tresshold.x
        tressholdY.innerHTML = "tresshold Y: " + tresshold.y
    })
</script>
</html>